<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>My Portfolio</title>
  <meta name="description" content="Portfolio — videos, profile, skills" />
  <!-- Theme variables, reset and base styles -->
  <style>
    :root{
      --bg: #0b0f14; /* dark */
      --panel: #0f1720;
      --text: #ffffff;
      --muted: #94a3b8;
      --accent: #2b8bff; /* blue */
      --accent-muted: #376fd9; /* lighter for active nav */
      --glass: rgba(255,255,255,0.03);
      --shadow: 0 8px 20px rgba(2,6,23,0.6);
      --radius: 12px;
      --nav-height: 64px;
      --max-width: 1100px;
      --ease: cubic-bezier(.2,.9,.2,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(1200px 800px at 10% 10%, rgba(43,139,255,0.04), transparent), var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-y: auto;
      transition:background .45s var(--ease), color .3s var(--ease);
    }

    a{color:inherit; text-decoration:none}

    .container{
      max-width:var(--max-width);
      margin: 28px auto;
      padding: 12px 20px 80px;
    }

    /* NAV */
    header{
      position:sticky; top:12px; z-index:40; pointer-events:auto;
      backdrop-filter: blur(6px);
      margin: 0 auto; max-width:var(--max-width);
      padding: 6px 20px; display:flex; align-items:center; gap:12px;
    }
    .nav-wrap{
      background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
      border-radius:14px; padding:6px; width:100%; box-shadow: var(--shadow);
      display:flex; align-items:center; justify-content:space-between; height:var(--nav-height);
    }
    .brand{font-weight:700; letter-spacing:0.4px; font-size:18px; padding-left:10px}

    nav{display:flex; align-items:center; gap:8px; height:100%; position:relative}
    .nav-list{display:flex; gap:8px; align-items:center; height:100%; padding:6px}
    .nav-item{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px;
      transition:all .25s var(--ease); cursor:pointer; color:var(--text);
      background:transparent; box-shadow:none; user-select:none; font-weight:600; font-size:14px;
    }
    .nav-item:hover{transform:translateY(-3px)}
    .nav-item.active{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 6px 18px rgba(2,6,23,0.5); border: 1px solid rgba(255,255,255,0.03);
      color:var(--text);
    }

    /* Slash bar (animated) */
   .slash-bar {
      position: absolute;
      bottom: 6px;
      height: 3px;
      border-radius: 2px;
      background: var(--accent);
      opacity: 0.9;
      box-shadow: 0 4px 18px rgba(43,139,255,0.16);
    }

    

    /* Profile */
    .hero{display:grid; grid-template-columns: 1fr 360px; gap:26px; align-items:start; margin-top:26px}
    .card{background:var(--panel); border-radius:14px; padding:20px; box-shadow:var(--shadow);}
    .profile-name{font-size:26px; font-weight:800; margin:0 0 8px}
    .profile-desc{color:var(--muted); margin:0 0 14px}
    .skill-list{display:flex; flex-wrap:wrap; gap:8px}
    .skill{background:var(--glass); padding:8px 12px; border-radius:999px; font-weight:600; font-size:13px; color:var(--text);}

    /* Buttons */
    .btn{display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:10px; border:0; cursor:pointer;
      background:linear-gradient(180deg,var(--accent), var(--accent-muted)); color:white; box-shadow: 0 10px 30px rgba(43,139,255,0.14);
      transition:transform .22s var(--ease), box-shadow .22s var(--ease), filter .22s var(--ease);
      font-weight:700;
    }
    .btn:active{transform:translateY(1px) scale(.997)}
    .btn:hover{transform:translateY(-4px)}

    /* Video gallery */
    .videos{margin-top:18px}
    .grid{display:grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap:16px}
    .video-card{background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent); border-radius:12px; overflow:hidden; cursor:pointer; box-shadow:0 8px 26px rgba(2,6,23,0.45); transition:transform .22s var(--ease);}
    .video-card:hover{transform:translateY(-6px)}
    .thumb{position:relative; padding-top:56.25%; background:#081018;}
    .thumb img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}
    .play-overlay{position:absolute; inset:0; display:flex; align-items:center; justify-content:center}
    .play-circle{background:rgba(0,0,0,0.45); border-radius:999px; padding:12px; box-shadow:0 8px 20px rgba(2,6,23,0.6)}
    .video-title{padding:12px 14px; font-weight:700}

    /* Modal */
    .modal{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(2,6,23,0.6); z-index:120; opacity:0; pointer-events:none}
    .modal.open{pointer-events:auto}
    .modal-inner{width:min(900px,94%); aspect-ratio:16/9; background:transparent; border-radius:12px; overflow:hidden}
    .modal-close{position:absolute; top:20px; right:20px; z-index:130}

    /* Loading spinner */
    .spinner-wrap{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:var(--bg); z-index:250}
    .spinner{width:84px; height:84px; border-radius:50%; display:grid; place-items:center}
    .ring{width:64px; height:64px; border-radius:50%; border:6px solid rgba(255,255,255,0.06); border-top-color:var(--accent); animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Small utilities */
    h2.section{margin:0 0 12px}
    p.lead{color:var(--muted); margin:0}
    footer{opacity:0.7; color:var(--muted); text-align:center; margin-top:36px}

    /* responsive */
    @media (max-width:880px){
      .hero{grid-template-columns:1fr;}
      header{padding:8px}
      .nav-wrap{height:56px}
    }
  </style>
</head>
<body>
  <!-- Loading spinner -->
  <div id="spinner" class="spinner-wrap">
    <div class="spinner">
      <div class="ring" aria-hidden="true"></div>
      <div style="position:absolute; text-align:center; font-weight:700">Loading</div>
    </div>
  </div>

  <header>
    <div class="nav-wrap">
      <div class="brand">Kaito</div>
      <nav aria-label="Main navigation">
        <div class="nav-list" id="navList">
          <div class="nav-item" data-path="/">Home</div>
          <div class="nav-item" data-path="/portfolio/">Portfolio</div>
          <div class="nav-item" data-path="/discord">Discord</div>
        </div>
        <div class="slash-bar" id="slashBar" aria-hidden="true"></div>
      </nav>
      <div style="display:flex; gap:8px; align-items:center">
        <button class="btn" id="contactBtn">Contact</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Views: home, portfolio, discord (single page with routing) -->

    <section id="homeView" class="view">
      <div class="hero">
        <div>
          <div class="card">
            <h1 class="profile-name">Kaito</h1>
            <p class="profile-desc">I am developer with 6 years experiences of Roblox Development. I also can do a little bit JavaScript and Python.</p>
            <div style="margin-top:12px">
              <h3 style="margin:0 0 8px">Skills</h3>
              <div class="skill-list" id="skills">
                <div class="skill">HTML</div>
                <div class="skill">CSS</div>
                <div class="skill">JavaScript</div>
                <div class="skill">Python</div>
                <div class="skill">UI/UX</div>
              </div>
            </div>
            <div style="margin-top:16px; display:flex; gap:10px">
              <button class="btn" onclick="openSection('/portfolio/')">See Work</button>
              <button class="btn" style="background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03)); color:var(--text); box-shadow: 0 8px 20px rgba(0,0,0,0.5);">Resume</button>
            </div>
          </div>
        </div>

        <div>
          <div class="card" style="display:flex; flex-direction:column; gap:12px; align-items:center; justify-content:center; text-align:center">
            <div style="width:110px; height:110px; border-radius:999px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); display:grid; place-items:center; font-size:28px; font-weight:800">YN</div>
            <div style="font-weight:800">Get in touch</div>
            <p class="lead">I'm available for collaborations and freelance work. Hit the contact button to connect.</p>
            <div style="display:flex; gap:8px; margin-top:8px;"> 
              <button class="btn" id="discordBtn">Join Discord</button>
            </div>
          </div>
        </div>
      </div>

      <div class="card videos" style="margin-top:20px">
        <h2 class="section">Featured Videos</h2>
        <p class="lead">Click any thumbnail to open the YouTube player in a modal.</p>
        <div class="grid" id="videoGrid">
          <!-- Sample video cards (replace IDs with yours) -->

          <div class="video-card" data-ytid="dQw4w9WgXcQ" tabindex="0">
            <div class="thumb">
              <img loading="lazy" alt="Video thumbnail" src="https://img.youtube.com/vi/dQw4w9WgXcQ/hqdefault.jpg">
              <div class="play-overlay"><div class="play-circle"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M8 5v14l11-7L8 5z" fill="white"/></svg></div></div>
            </div>
            <div class="video-title">Sample Project — Animated UI</div>
          </div>

          <div class="video-card" data-ytid="9bZkp7q19f0" tabindex="0">
            <div class="thumb">
              <img loading="lazy" alt="Video thumbnail" src="https://img.youtube.com/vi/9bZkp7q19f0/hqdefault.jpg">
              <div class="play-overlay"><div class="play-circle"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M8 5v14l11-7L8 5z" fill="white"/></svg></div></div>
            </div>
            <div class="video-title">Sample Project — Interactive Player</div>
          </div>

          <div class="video-card" data-ytid="3JZ_D3ELwOQ" tabindex="0">
            <div class="thumb">
              <img loading="lazy" alt="Video thumbnail" src="https://img.youtube.com/vi/3JZ_D3ELwOQ/hqdefault.jpg">
              <div class="play-overlay"><div class="play-circle"><svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M8 5v14l11-7L8 5z" fill="white"/></svg></div></div>
            </div>
            <div class="video-title">Sample Project — Motion Design</div>
          </div>

        </div>
      </div>
    </section>

    <section id="portfolioView" class="view" style="display:none; margin-top:18px">
      <div class="card">
        <h2 class="section">Portfolio</h2>
        <p class="lead">All projects and video walkthroughs — organized and ready.</p>
        <div class="grid" style="margin-top:12px">
          <!-- Duplicate video cards to illustrate portfolio view (could be filtered) -->
        </div>
      </div>
    </section>

    <section id="discordView" class="view" style="display:none; margin-top:18px">
      <div class="card">
        <h2 class="section">Discord</h2>
        <p class="lead">Join the community for quick updates and chat.</p>
        <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
          <button class="btn">Open Invite</button>
          <button class="btn" style="background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));">Message</button>
        </div>
      </div>
    </section>

    <footer>© <span id="year"></span> Kaito — Built with ❤️ and JS</footer>
  </main>

  <!-- Modal (YouTube iframe injected lazily) -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-inner" id="modalInner" tabindex="-1"></div>
    <div class="modal-close" style="position:fixed; top:18px; right:18px">
      <button class="btn" id="closeModalBtn" aria-label="Close video">Close</button>
    </div>
    <div id="modalDesc"></div>
  </div>

  <!-- GSAP for tweens -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <script>
    // Basic helpers and initial state
    const navList = document.getElementById('navList');
    const navItems = Array.from(navList.querySelectorAll('.nav-item'));
    const slashBar = document.getElementById('slashBar');
    const views = {
      '/': document.getElementById('homeView'),
      '/portfolio/': document.getElementById('portfolioView'),
      '/discord': document.getElementById('discordView')
    };
    const spinner = document.getElementById('spinner');
    const modal = document.getElementById('modal');
    const modalInner = document.getElementById('modalInner');
    const closeModalBtn = document.getElementById('closeModalBtn');

    // Set year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Utility: animate slash bar to active nav item
    function moveSlashTo(element, immediate=false){
      const rect = element.getBoundingClientRect();
      const navRect = navList.getBoundingClientRect();
      
      const x = rect.left - navRect.left;
      const width = rect.width;

      if (immediate) {
        gsap.set(slashBar, {x, width});
      } else {
        gsap.to(slashBar, {duration: 0.45, x, width, ease: 'power3.out'});
      }
    }


    // Set active nav item
    function setActivePath(path, push=true){
      // normalize path
      if(!path) path = '/';
      if(!path.endsWith('/') && path !== '/') path = path + '/';
      // mark active
      navItems.forEach(it => {
        const p = it.dataset.path;
        const normalized = (p === '/') ? '/' : (p.endsWith('/') ? p : p + '/');
        if(normalized === path) it.classList.add('active'); else it.classList.remove('active');
      });
      // show view
      for(const p in views){
        const viewEl = views[p];
        if((p === path) || (p === '/' && path === '/')){
          // show with tween
          if(viewEl.style.display === 'none'){
            viewEl.style.display = '';
            gsap.fromTo(viewEl, {autoAlpha:0, y:8}, {duration:.45, autoAlpha:1, y:0, ease:'power3.out'});
          }
        } else {
          if(viewEl.style.display !== 'none'){
            gsap.to(viewEl, {duration:.32, autoAlpha:0, y:6, ease:'power2.in', onComplete:()=>{ viewEl.style.display='none'; }});
          }
        }
      }
      // move slash
      const activeEl = navItems.find(n => n.classList.contains('active')) || navItems[0];
      moveSlashTo(activeEl);
      // update history
      if(push){
        const url = (path === '/') ? '/' : path;
        try{ history.pushState({path}, '', url); }catch(e){}
      }
    }

    // Init nav positions after fonts/layout
    function initNav(){
      // attach click
      navItems.forEach(item=>{
        item.addEventListener('click', ()=> openSection(item.dataset.path));
        item.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openSection(item.dataset.path);} });
      });
      // initial active based on location
      let currentPath = location.pathname;
      if(!currentPath) currentPath = '/';
      // map servers that don't include trailing slash
      if(currentPath !== '/' && !currentPath.endsWith('/')) currentPath = currentPath + '/';
      if(!views[currentPath]) currentPath = '/';
      setActivePath(currentPath, false);
      // ensure slash initial placement
      moveSlashTo(navItems.find(n=>n.classList.contains('active')) || navItems[0], true);
      // slight entrance of nav items
      gsap.from(navItems, {opacity:0, y:6, stagger:0.04, duration:0.5, ease:'power1.out'});
    }

    // openSection used by buttons and nav
    function openSection(path){
      if(!path) path = '/';
      // normalize
      if(path !== '/' && !path.endsWith('/')) path = path + '/';
      if(!views[path]) path = '/';
      setActivePath(path);
    }

    // Video modal logic (lazy iframe injection + control)
    function openVideo(ytid){
      if(!ytid) return;
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
      // create iframe lazily
      const iframe = document.createElement('iframe');
      iframe.src = `https://www.youtube.com/embed/${ytid}?autoplay=1&rel=0&modestbranding=1`;

      iframe.setAttribute('allow','autoplay; encrypted-media; picture-in-picture');
      iframe.setAttribute('allowfullscreen','');
      iframe.style.width='100%'; iframe.style.height='100%'; iframe.style.border='0';
      modalInner.innerHTML='';
      modalInner.appendChild(iframe);

      // set modal description (for accessibility)
      const title = document.querySelector(`.video-card[data-ytid="${ytid}"] .video-title`)?.textContent;
      document.getElementById('modalDesc').textContent = title || '';

      // modal animation
      gsap.fromTo(modal, {autoAlpha:0}, {duration:0.32, autoAlpha:1});
      gsap.fromTo(modalInner, {scale:0.96, autoAlpha:0}, {duration:0.46, scale:1, autoAlpha:1, ease:'back.out(1.1)'});
      // trap focus
      modalInner.focus();
    }

    function closeModal(){
      // stop video by clearing iframe
      gsap.to(modalInner, {duration:0.28, scale:0.98, autoAlpha:0, onComplete:()=>{
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden','true');
        modalInner.innerHTML='';
        gsap.to(modal, {duration:0.24, autoAlpha:0});
      }});
    }

    // Attach click handlers for video cards
    document.querySelectorAll('.video-card').forEach(card=>{
      card.addEventListener('click', ()=> openVideo(card.dataset.ytid));
      card.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openVideo(card.dataset.ytid); } });
    });

    // modal close triggers
    closeModalBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') { if(modal.classList.contains('open')) closeModal(); } });

    // Contact & Discord buttons
    document.getElementById('discordBtn').addEventListener('click', ()=> openSection('/discord'));
    document.getElementById('contactBtn').addEventListener('click', ()=>{
      // a small microinteraction
      gsap.fromTo('#contactBtn', {scale:0.98}, {duration:0.25, scale:1, ease:'elastic.out(1,0.6)'});
      // fallback: open mailto (user can replace)
      setTimeout(()=> location.href = 'mailto:kaito.furasshu@gmail.com', 220);
    });

    // Handle popstate for back/forward
    window.addEventListener('popstate', (e)=>{
      let path = location.pathname;
      if(path !== '/' && !path.endsWith('/')) path = path + '/';
      if(!views[path]) path = '/';
      setActivePath(path, false);
    });

    // Wait for DOMContent loaded then hide spinner and init nav
    window.addEventListener('DOMContentLoaded', ()=>{
      // minimal wait for spinner to be visible for polish
      setTimeout(()=>{
        gsap.to('#spinner', {autoAlpha:0, duration:0.5, onComplete: ()=>{ spinner.style.display='none'; initNav(); }});
      }, 600);
    });

    // small accessibility: focus trap within modal (simple)
    modal.addEventListener('keydown', (e)=>{
      if(e.key === 'Tab'){
        e.preventDefault();
        // keep focus inside modal
        closeModalBtn.focus();
      }
    });

    // Improve: animate buttons slightly on load
    window.addEventListener('load', ()=>{
      gsap.from('.btn', {y:6, autoAlpha:0, duration:0.6, stagger:0.06, ease:'power2.out'});
    });

  </script>

</body>
</html>
